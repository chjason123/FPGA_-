# **PingPong 模組設計與實現**

---

## **1. 簡介**
本報告介紹以 VHDL 語言實現的 PingPong 模組設計，該模組旨在模擬簡單的雙向控制遊戲「PingPong」邏輯。模組基於有限狀態機 (FSM) 機制，包含隨機數生成器、LED 運行顯示和左/右玩家得分記錄等功能，可用於學術研究與數字邏輯學習。

---

## **2. 設計背景與功能**

### **2.1 系統功能**
該模組基於數字邏輯設計，實現雙向控制遊戲：

- LED 亮點移動模擬「球」的運動方向。
- 左鍵（`i_swL`）與右鍵（`i_swR`）分別控制 LED 向左或向右運動。
- 當 LED 到邊界且對方未及時控制，增加對方得分。
- 使用隨機數產生器調整遊戲速度，提供不同的遊戲難度模式。

---

### **2.2 系統輸入輸出接口**

#### **輸入接口**
| **名稱**          | **描述**                       |
|--------------------|--------------------------------|
| `i_clk`           | 系統時脈訊號                  |
| `i_rst`           | 系統復位訊號，低有效           |
| `i_swL`           | 左玩家控制按鍵                |
| `i_swR`           | 右玩家控制按鍵                |
| `i_random_speed`  | 隨機速度設定訊號（高/低速模式）|

#### **輸出接口**
| **名稱**  | **描述**                  |
|-----------|---------------------------|
| `o_led`   | 8 位元 LED 狀態顯示信號     |


---

### **3.2 關鍵模組**

#### **3.2.1 FSM（有限狀態機）**
- **狀態定義**:
  使用 `STATE_TYPE` 定義 LED 運動方向的狀態，主要包括以下幾種：
  - `MovingL`: LED 向左移動。
  - `MovingR`: LED 向右移動。
  - `Lwin`: 左玩家勝利。
  - `Rwin`: 右玩家勝利。

- **狀態轉移條件**:
  - 若 LED 到達邊界且玩家未響應，則判定另一方獲勝（狀態轉移至 `Lwin` 或 `Rwin`）。
  - 玩家按下正確的方向按鈕時，則改變 LED 的移動方向。

---

#### **3.2.2 隨機數產生器**
- **功能**: 
  使用伪随机生成器產生隨機數 `o_random_num`，用於判定控制難度和調整速度。

- **輸入**:
  - 時脈（`i_clk`）
  - 啟用信號（`i_enable`）

- **輸出**:
  - 隨機數（`o_random_num`）

---

#### **3.2.3 LED 顯示控制**
- **功能**:
  控制 LED 狀態輸出（`o_led`），根據狀態機和玩家操作進行左移或右移。
  
- **其他功能**:
  顯示「贏家動畫」或玩家得分。

## **4. 波型**
#### **4.1 提早打**
<img width="908" height="207" alt="image" src="https://github.com/user-attachments/assets/e645dda6-1a5c-401d-887d-bf9e565293e2" />
#### **4.1 沒打**
<img width="1858" height="262" alt="image" src="https://github.com/user-attachments/assets/d56e1012-25f2-4309-aae5-fb50e2f2442f" />
<img width="1868" height="211" alt="image" src="https://github.com/user-attachments/assets/67cb82cf-377c-4903-a1be-e7760c9d1a56" />


